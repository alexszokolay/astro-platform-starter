---
import BaseLayout from "../layouts/BaseLayout.astro";
import NavBar from "../components/NavBar.astro";
import Hero from "../components/Hero.astro";
import ExperienceItem from "../components/ExperienceItem.astro";
import ProjectCard from "../components/ProjectCard.astro";
import Contact from "../components/Contact.astro";
import "../styles/globals.css";

/* Resume data (quick to edit later) */
const EXPERIENCE = [
  {
    role: "Software Developer",
    company: "Health Canada",
    date: "Jan 2025 – Present",
    location: "Toronto, ON",
    bullets: [
      "Led Jira platform modernization across Dev, Test, Training, and Prod, resolving SSL, certificate, proxy, and plugin compatibility issues.",
      "Owned Jira upgrade planning from v8 → v10 LTS, assessing migration paths, plugin readiness, and defining a delivery strategy targeting March 2026.",
      "Modernized Metabase reporting by fixing data truncation, altering PostgreSQL column types, and refactoring 30+ materialized views to restore accurate reporting.",
      "Diagnosed and restored a stalled ETL pipeline after server updates by reverse-engineering ingestion workflows and re-establishing scheduled refreshes.",
      "Restored Nuxeo test environment by resolving Oracle database connectivity issues in collaboration with Shared Services.",
      "Contributed to IUCLID 6 deployment by configuring Oracle databases, Payara application servers, and secure FTP integrations, and producing architecture documentation for security review.",
    ],
  },
  {
    role: "Student Software Developer",
    company: "Health Canada",
    date: "Aug 2023 – Dec 2024",
    location: "Remote",
    bullets: [
      "Technical lead for Jira, Nuxeo, IUCLID, Metabase maintenance (configs, plugins, licenses, access control).",
      "Built features across Angular.js/Java/HTML/CSS/SQL for enterprise health info systems.",
      "Refactored Oracle SQL to improve search and backend performance.",
      "Diagnosed MediaWiki VisualEditor issues, upgraded platform via Linux/SSH to restore reliability.",
    ],
  },
  {
    role: "Intern Software Developer",
    company: "Health Canada",
    date: "Jun 2023 – Aug 2023",
    location: "Remote",
    bullets: [
      "Gathered requirements, prototyped, and shipped internal tools aligned to security/accessibility standards.",
      "Reduced fraudulent submissions by ~40% via reCAPTCHA v3.",
      "Built responsive UI components (React/JS/HTML/CSS) and improved query performance.",
      "Improved team productivity with clearer Jira/Confluence specs and workflows.",
    ],
  },
];

const PROJECTS = [
  {
    title: "Emotion-Aware City Chatbot",
    year: "2023",
    desc: "Python + Co:Here NLP bot that analyzes mood and recommends GTA spots to boost well-being.",
    tags: ["Python", "NLP", "Co:Here", "OpenAI"],
    link: "#",
  },
  {
    title: "Shopify Assistant on Gadget",
    year: "2023",
    desc: "AI shopping assistant using OpenAI API to generate personalized product recommendations from purchase history.",
    tags: ["OpenAI", "Gadget", "Shopify", "Full-stack"],
    link: "#",
  },
  {
    title: "IBM AI Dev Certificate",
    year: "2025",
    desc: "Built & deployed AI web apps (Python/Flask), testing & design patterns, chatbot APIs, cloud deploys.",
    tags: ["Flask", "APIs", "AI"],
    link: "#",
  },
];
---
<BaseLayout>
  <NavBar />

  <Hero />

  <section id="about" class="section py-20">
    <h2 class="text-3xl font-bold mb-4">About</h2>
    <p class="text-white/80 max-w-3xl">
      University of Toronto B.Sc. (Hons) in Computer Science, Cognitive Science, and Psychology (2020–2025).
      Coursework across Databases, AI, Software Design, Data Structures & Analysis, Stats with Computing,
      Ethics in Computing, Computational Cognition, and Data & the Mind.
    </p>
    <div class="mt-6 flex flex-wrap gap-3">
      <span class="text-xs px-3 py-1 rounded-full border border-white/10">Python</span>
      <span class="text-xs px-3 py-1 rounded-full border border-white/10">Flask</span>
      <span class="text-xs px-3 py-1 rounded-full border border-white/10">React</span>
      <span class="text-xs px-3 py-1 rounded-full border border-white/10">SQL · Oracle</span>
      <span class="text-xs px-3 py-1 rounded-full border border-white/10">Astro · Netlify</span>
      <span class="text-xs px-3 py-1 rounded-full border border-white/10">Jira · Nuxeo · IUCLID · Metabase</span>
    </div>
  </section>

  <section id="experience" class="section py-20">
    <h2 class="text-3xl font-bold mb-6">Experience</h2>
    <div class="grid gap-6">
      {EXPERIENCE.map((e) => <ExperienceItem {...e} />)}
    </div>
  </section>

  <section id="projects" class="section py-20">
    <h2 class="text-3xl font-bold mb-6">Projects</h2>
    <div class="grid sm:grid-cols-2 gap-6">
      {PROJECTS.map((p) => <ProjectCard {...p} />)}
    </div>
  </section>

  <Contact />

  <footer class="section py-10 border-t border-white/5 text-white/60 text-sm">
    <div class="flex items-center justify-between">
      <span>© {new Date().getFullYear()} Alex Szokolay</span>
      <a href="#home" class="btn-outline">Back to top ↑</a>
    </div>
  </footer>
</BaseLayout>
